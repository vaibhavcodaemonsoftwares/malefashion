!function(i,e){function n(t){this.message_container=".widget_shopping_cart_content",e.BaseGateway.call(this,t,s)}function t(t){n.apply(this,arguments)}function p(t){n.apply(this,arguments)}function a(t){n.apply(this,arguments)}function o(t){n.apply(this,arguments)}n.prototype.on_token_received=function(){this.block(),this.block_cart(),e.BaseGateway.prototype.on_token_received.apply(this,arguments)},n.prototype.block_cart=function(){i(this.container).closest(".widget_shopping_cart_content").find(".wc-stripe-overlay").addClass("active")},n.prototype.unblock_cart=function(){i(this.container).closest(".widget_shopping_cart_content").find(".wc-stripe-overlay").removeClass("active")},(t.prototype=Object.assign({},e.BaseGateway.prototype,n.prototype,e.GooglePay.prototype)).initialize=function(){this.createPaymentsClient(),this.isReadyToPay().then(function(){this.$button.find(".gpay-button").addClass("button"),this.append_button()}.bind(this))},t.prototype.create_button=function(){e.GooglePay.prototype.create_button.apply(this,arguments),this.append_button()},t.prototype.append_button=function(){i(this.container).find(".wc-stripe-gpay-mini-cart").empty(),i(this.container).find(".wc-stripe-gpay-mini-cart").append(this.$button).show()},(p.prototype=Object.assign({},e.BaseGateway.prototype,n.prototype,e.ApplePay.prototype)).initialize=function(){e.ApplePay.prototype.initialize.apply(this,arguments)},p.prototype.append_button=function(){i(this.container).find(".wc-stripe-applepay-mini-cart").empty(),i(this.container).find(".wc-stripe-applepay-mini-cart").append(this.$button).show()},(a.prototype=Object.assign({},e.BaseGateway.prototype,n.prototype,e.PaymentRequest.prototype)).initialize=function(){e.PaymentRequest.prototype.initialize.apply(this,arguments)},a.prototype.create_button=function(){this.append_button()},a.prototype.append_button=function(){i(this.container).find(".wc-stripe-payment-request-mini-cart").empty().show(),this.paymentRequestButton.mount(i(this.container).find(".wc-stripe-payment-request-mini-cart").first()[0])},(o.prototype=Object.assign({},e.BaseGateway.prototype,n.prototype,e.Afterpay.prototype)).is_currency_supported=function(){return-1<this.params.currencies.indexOf(this.get_currency())},o.prototype.initialize=function(){i(this.container).length&&this.is_currency_supported()&&(this.create_element(),this.mount_message())},o.prototype.create_element=function(){return this.elements.create("afterpayClearpayMessage",i.extend({},this.params.msg_options,{amount:this.get_total_price_cents(),currency:this.get_currency(),isEligible:this.is_eligible(parseFloat(this.get_total_price()))}))},o.prototype.mount_message=function(){i(".wc-stripe-afterpay-minicart-msg").length||i(".woocommerce-mini-cart__total").after('<p class="wc-stripe-afterpay-minicart-msg buttons"></p>');var t=document.querySelectorAll(".wc-stripe-afterpay-minicart-msg");t&&t.forEach(function(t){this.create_element().mount(t),this.add_eligibility(t,parseFloat(this.get_total_price()))}.bind(this))};var r=[],s=null;"undefined"!=typeof wc_stripe_googlepay_mini_cart_params&&r.push([t,wc_stripe_googlepay_mini_cart_params]),"undefined"!=typeof wc_stripe_applepay_mini_cart_params&&r.push([p,wc_stripe_applepay_mini_cart_params]),"undefined"!=typeof wc_stripe_payment_request_mini_cart_params&&r.push([a,wc_stripe_payment_request_mini_cart_params]),"undefined"!=typeof wc_stripe_afterpay_mini_cart_params&&r.push([o,wc_stripe_afterpay_mini_cart_params]),i(document.body).on("wc_fragments_refreshed wc_fragments_loaded",function(){i(".widget_shopping_cart_content").each(function(t,e){!i(e).find(".wc_stripe_mini_cart_payment_methods").length||(e=i(e).parent()).length&&(t="wc-stripe-mini-cart-idx-"+t,e.addClass(t),e.find(".widget_shopping_cart_content").prepend('<div class="wc-stripe-overlay"></div>'),s="."+t+" .widget_shopping_cart_content p.woocommerce-mini-cart__buttons",r.forEach(function(t){new t[0](t[1])}))})})}(jQuery,window.wc_stripe);